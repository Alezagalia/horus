# ===========================================
# Horus Backend - Environment Variables
# ===========================================
# Copy this file to .env and fill in your values

# ===========================================
# REQUIRED - Database
# ===========================================
# PostgreSQL connection string
# For Railway: Use the DATABASE_URL provided by Railway PostgreSQL addon
DATABASE_URL="postgresql://user:password@host:5432/database?schema=public"
DATABASE_CONNECTION_LIMIT=10  # US-110: Connection pool limit

# ===========================================
# REQUIRED - Authentication
# ===========================================
# JWT secrets - generate with: openssl rand -base64 32
JWT_SECRET="your-super-secret-jwt-key-change-in-production"
JWT_REFRESH_SECRET="your-super-secret-refresh-key-change-in-production"

# Token expiration (optional, defaults shown)
JWT_EXPIRES_IN="15m"
JWT_REFRESH_EXPIRES_IN="7d"

# ===========================================
# Server Configuration
# ===========================================
# Port (Railway sets this automatically via $PORT)
PORT=3000

# Environment
NODE_ENV="development"

# ===========================================
# Monitoring & Logging (US-115)
# ===========================================
SENTRY_DSN=""
SENTRY_ENVIRONMENT="development"
SENTRY_TRACES_SAMPLE_RATE="0.1"
LOG_LEVEL="info"

# ===========================================
# OPTIONAL - Google Calendar Sync (Sprint 8)
# ===========================================
# Required only for Google Calendar integration
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""
GOOGLE_REDIRECT_URI=""
ENCRYPTION_KEY=""  # 32 bytes hex for encrypting OAuth tokens

# ===========================================
# OPTIONAL - Push Notifications (Sprint 12)
# ===========================================
# Firebase Cloud Messaging (for mobile push)
FIREBASE_PROJECT_ID=""
FIREBASE_CLIENT_EMAIL=""
FIREBASE_PRIVATE_KEY=""

# Web Push VAPID Keys (for web push)
# Generate with: npx web-push generate-vapid-keys
VAPID_PUBLIC_KEY=""
VAPID_PRIVATE_KEY=""

# ===========================================
# Security Configuration
# ===========================================
# CORS: Comma-separated list of allowed origins (REQUIRED in production)
# Example: "https://horus.vercel.app,https://www.horus.app"
CORS_ORIGINS=""

# Rate Limiting (optional, defaults shown)
# Window in milliseconds (default: 15 minutes)
RATE_LIMIT_WINDOW_MS="900000"
# Max requests per window for general endpoints (default: 100)
RATE_LIMIT_MAX_REQUESTS="100"
# Max attempts per window for auth endpoints (default: 5)
RATE_LIMIT_AUTH_MAX="5"
