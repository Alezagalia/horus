# ===========================================
# Railway Multi-Service Configuration
# ===========================================
# Note: This file applies to the root service.
# Each Railway service needs to be configured individually
# in the Railway Dashboard with the correct Dockerfile path.
#
# For 'horus' (frontend) service:
#   Dockerfile Path: apps/web/Dockerfile
#
# For 'backend' service:
#   Dockerfile Path: apps/backend/Dockerfile
# ===========================================

[build]
# Default to frontend Dockerfile when deploying from root
dockerfilePath = "apps/web/Dockerfile"
watchPatterns = ["apps/web/**", "packages/shared/**"]

[build.args]
VITE_API_URL = "${{VITE_API_URL}}"

[deploy]
healthcheckPath = "/"
healthcheckTimeout = 30
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 3
