# ===========================================
# Horus - Railway Configuration
# ===========================================
# NOTE: This is a monorepo. Each service needs its own config.
# Configure services in Railway UI with:
#
# BACKEND SERVICE:
#   - Root Directory: / (monorepo root)
#   - Dockerfile Path: apps/backend/Dockerfile
#   - Variables: DATABASE_URL, JWT_SECRET, JWT_REFRESH_SECRET, etc.
#
# FRONTEND SERVICE:
#   - Root Directory: / (monorepo root)
#   - Dockerfile Path: apps/web/Dockerfile
#   - Build Args: VITE_API_URL=https://your-backend-url
#
# ===========================================
# This file is for the BACKEND service only
# ===========================================

[build]
builder = "dockerfile"
dockerfilePath = "apps/backend/Dockerfile"
watchPatterns = ["apps/backend/**", "packages/shared/**"]

[deploy]
numReplicas = 1
healthcheckPath = "/api/health"
healthcheckTimeout = 300
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10
